{"ast":null,"code":"import _regeneratorRuntime from \"D:/AppData/OneDrive/\\u684C\\u9762/Project_SPH/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/AppData/OneDrive/\\u684C\\u9762/Project_SPH/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  // name: \"\",\n  data: function data() {\n    return {\n      //响应式数据，用于收集表单元素文本内容   v-model \n      keyword: \"\"\n    };\n  },\n  methods: {\n    //搜索按钮的事件处理函数，用于跳转到search路由组件当中\n    goSearch: function goSearch() {\n      // 路由传参\n      // 第一种：字符串形式\n      // this.$router.push(\"/search/\" + this.keyword + \"?k=\"+this.keyword.toUpperCase());\n      // 第二种：模板字符串\n      this.$router.push(\"search/\".concat(this.keyword, \"?k=\").concat(this.keyword.toUpperCase())); // 代表的是如果有query参数也带过去\n      // if (this.$route.query) {\n      //   let loction = {\n      //     name: \"search\",\n      //     params: { keyword: this.keyword || undefined },\n      //   };\n      //   loction.query = this.$route.query;\n      //   this.$router.push(loction);\n      // }\n    },\n    //退出登录\n    logout: function logout() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch('userLogout');\n\n              case 3:\n                //回到首页\n                _this.$router.push('/home');\n\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 6]]);\n      }))();\n    }\n  } //   mounted() {\n  //     //通过全局事件总线清除关键字\n  //     this.$bus.$on(\"clear\", () => {\n  //       this.keyword = \"\";\n  //     });\n  //   },\n  //   computed:{\n  //     //用户名信息\n  //     userName(){\n  //       return this.$store.state.user.userInfo.name;\n  //     }\n  //   }\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;EACA;EACAA,IAFA,kBAEA;IACA;MACA;MACAC;IAFA;EAIA,CAPA;EAQAC;IACA;IACAC,QAFA,sBAEA;MACA;MACA;MACA;MACA;MACA,4FALA,CAMA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAjBA;IAkBA;IACAC,MAnBA,oBAmBA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAMA,mCANA;;cAAA;gBAOA;gBACA;;gBARA;gBAAA;;cAAA;gBAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAYA;EA/BA,CARA,CAyCA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AApDA","names":["data","keyword","methods","goSearch","logout"],"sourceRoot":"src/components/Header","sources":["index.vue"],"sourcesContent":["<template>\r\n  <header class=\"header\">\r\n    <!-- 头部的第一行 -->\r\n    <div class=\"top\">\r\n      <div class=\"container\">\r\n        <div class=\"loginList\">\r\n          <p>尚品汇欢迎您！</p>\r\n          <!-- 没有用户名：未登录 -->\r\n          <!-- <p v-if=\"!userName\"> -->\r\n          <p>\r\n            <span>请</span>\r\n            <!-- 声明式导航：router-link务必要有to属性 \r\n              只是跳转 ， 没有其他的业务\r\n            -->\r\n            <router-link to=\"/login\">登录</router-link>\r\n            <router-link class=\"register\" to=\"/register\">免费注册</router-link>\r\n            <!-- </p> -->\r\n            <!-- 登录了 -->\r\n            <!-- <p v-else> -->\r\n            <!-- <a>{{ userName }}</a> -->\r\n            <a class=\"register\">退出登录</a>\r\n            <!-- </p> -->\r\n          </p>\r\n        </div>\r\n        <div class=\"typeList\">\r\n          <!-- <router-link>我的订单</router-link>\r\n          <router-link>我的购物车</router-link> -->\r\n          <a href=\"###\">我的订单</a>\r\n          <a href=\"###\">我的购物车</a>\r\n          <a href=\"###\">我的尚品汇</a>\r\n          <a href=\"###\">尚品汇会员</a>\r\n          <a href=\"###\">企业采购</a>\r\n          <a href=\"###\">关注尚品汇</a>\r\n          <a href=\"###\">合作招商</a>\r\n          <a href=\"###\">商家后台</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--头部第二行 搜索区域-->\r\n    <div class=\"bottom\">\r\n      <h1 class=\"logoArea\">\r\n        <!-- router-link组件本省就是一个a标签 -->\r\n        <router-link to=\"/home\" class=\"logo\">\r\n          <img src=\"./images/logo.png\" alt=\"\" />\r\n        </router-link>\r\n      </h1>\r\n      <div class=\"searchArea\">\r\n        <form action=\"###\" class=\"searchForm\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"autocomplete\"\r\n            class=\"input-error input-xxlarge\"\r\n            v-model=\"keyword\"\r\n          />\r\n          <button class=\"sui-btn btn-xlarge btn-danger\" type=\"button\" @click=\"goSearch\">\r\n            搜索\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  // name: \"\",\r\n  data() {\r\n    return {\r\n      //响应式数据，用于收集表单元素文本内容   v-model \r\n      keyword: \"\",\r\n    };\r\n  },\r\n    methods: {\r\n      //搜索按钮的事件处理函数，用于跳转到search路由组件当中\r\n      goSearch() {\r\n        // 路由传参\r\n        // 第一种：字符串形式\r\n        // this.$router.push(\"/search/\" + this.keyword + \"?k=\"+this.keyword.toUpperCase());\r\n        // 第二种：模板字符串\r\n        this.$router.push(`search/${this.keyword}?k=${this.keyword.toUpperCase()}`);\r\n        // 代表的是如果有query参数也带过去\r\n        // if (this.$route.query) {\r\n        //   let loction = {\r\n        //     name: \"search\",\r\n        //     params: { keyword: this.keyword || undefined },\r\n        //   };\r\n        //   loction.query = this.$route.query;\r\n        //   this.$router.push(loction);\r\n        // }\r\n      },\r\n      //退出登录\r\n      async logout(){\r\n        //退出登录需要做的事情\r\n        //1:需要发请求，通知服务器退出登录【清除一些数据：token】\r\n        //2:清除项目当中的数据【userInfo、token】\r\n          try {\r\n            //如果退出成功\r\n            await this.$store.dispatch('userLogout');\r\n            //回到首页\r\n            this.$router.push('/home');\r\n          } catch (error) {\r\n\r\n          }\r\n      }\r\n    },\r\n  //   mounted() {\r\n  //     //通过全局事件总线清除关键字\r\n  //     this.$bus.$on(\"clear\", () => {\r\n  //       this.keyword = \"\";\r\n  //     });\r\n  //   },\r\n  //   computed:{\r\n  //     //用户名信息\r\n  //     userName(){\r\n  //       return this.$store.state.user.userInfo.name;\r\n  //     }\r\n  //   }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.header {\r\n  & > .top {\r\n    background-color: #eaeaea;\r\n    height: 30px;\r\n    line-height: 30px;\r\n\r\n    .container {\r\n      width: 1200px;\r\n      margin: 0 auto;\r\n      overflow: hidden;\r\n\r\n      .loginList {\r\n        float: left;\r\n\r\n        p {\r\n          float: left;\r\n          margin-right: 10px;\r\n\r\n          .register {\r\n            border-left: 1px solid #b3aeae;\r\n            padding: 0 5px;\r\n            margin-left: 5px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .typeList {\r\n        float: right;\r\n\r\n        a {\r\n          padding: 0 10px;\r\n\r\n          & + a {\r\n            border-left: 1px solid #b3aeae;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  & > .bottom {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n    overflow: hidden;\r\n\r\n    .logoArea {\r\n      float: left;\r\n\r\n      .logo {\r\n        img {\r\n          width: 175px;\r\n          margin: 25px 45px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .searchArea {\r\n      float: right;\r\n      margin-top: 35px;\r\n\r\n      .searchForm {\r\n        overflow: hidden;\r\n\r\n        input {\r\n          box-sizing: border-box;\r\n          width: 490px;\r\n          height: 32px;\r\n          padding: 0px 4px;\r\n          border: 2px solid #ea4a36;\r\n          float: left;\r\n\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n\r\n        button {\r\n          height: 32px;\r\n          width: 68px;\r\n          background-color: #ea4a36;\r\n          border: none;\r\n          color: #fff;\r\n          float: left;\r\n          cursor: pointer;\r\n\r\n          &:focus {\r\n            outline: none;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}